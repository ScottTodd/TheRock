From dad1d86b240388c5c664dcf966b3520cf46e08cc Mon Sep 17 00:00:00 2001
From: Scott Todd <scott.todd0@gmail.com>
Date: Tue, 24 Jun 2025 16:28:30 -0700
Subject: [PATCH 3/3] Add rocsolver to new LoadHIP.

Also added a TODO for hipsparselt.
---
 cmake/public/LoadHIP.cmake | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/cmake/public/LoadHIP.cmake b/cmake/public/LoadHIP.cmake
index 5ac8c39669..7bf409c6da 100644
--- a/cmake/public/LoadHIP.cmake
+++ b/cmake/public/LoadHIP.cmake
@@ -17,6 +17,7 @@ macro(pytorch_load_hip)
   message(STATUS "hipfft version: ${hipfft_VERSION}")
   find_package(hipsparse REQUIRED)
   message(STATUS "hipsparse version: ${hipsparse_VERSION}")
+  # TODO: add hipsparselt once included in TheRock (or find as optional here?)
   find_package(rocprim REQUIRED)
   message(STATUS "rocprim version: ${rocprim_VERSION}")
   find_package(hipcub REQUIRED)
@@ -25,6 +26,8 @@ macro(pytorch_load_hip)
   message(STATUS "rocthrust version: ${rocthrust_VERSION}")
   find_package(hipsolver REQUIRED)
   message(STATUS "hipsolver versio: ${hipsolver_VERSION}")
+  find_package(rocsolver REQUIRED)
+  message(STATUS "rocsolver versio: ${rocsolver_VERSION}")
 
   if(CMAKE_VERSION VERSION_GREATER_EQUAL "4.0.0")
     message(WARNING "Work around hiprtc cmake failure for cmake >= 4")
-- 
2.47.1.windows.2

